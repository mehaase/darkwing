<div class='spinner-container' *ngIf='dataSource.loading$ | async'>
  <mat-spinner diameter='50'></mat-spinner>
</div>

<table mat-table [dataSource]='dataSource'
       matSort matSortActive='started' matSortDirection='desc' matSortDisableClear>

  <ng-container matColumnDef='scanner'>
    <th mat-header-cell *matHeaderCellDef> Scanner </th>
    <td mat-cell *matCellDef='let element'> {{element.scanner}} </td>
  </ng-container>

  <ng-container matColumnDef='command_line'>
    <th mat-header-cell *matHeaderCellDef> Command Line </th>
    <td mat-cell *matCellDef='let element'> {{element.commandLine}} </td>
  </ng-container>

  <ng-container matColumnDef='started'>
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Started </th>
    <td mat-cell *matCellDef='let element'> {{element.started}} </td>
  </ng-container>

  <ng-container matColumnDef='host_count'>
    <th mat-header-cell *matHeaderCellDef> # Hosts </th>
    <td mat-cell *matCellDef='let element'> {{element.hostCount}} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef='displayedColumns'></tr>
  <tr mat-row
      *matRowDef='let row; columns: displayedColumns;'
      [routerLink]='"/scan/" + row.scanId'></tr>
</table>

<mat-paginator
  [length]='dataSource.totalCount'
  [pageSizeOptions]='[10, 25, 100]'
  showFirstLastButtons></mat-paginator>
